# Template file for 'kissfft'
pkgname=kissfft
version=131.1.0
revision=1
archs="i686 x86_64"
build_style=cmake
configure_args="-DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=ON -DKISSFFT_OPENMP=OFF -DKISSFFT_PKGCONFIG=ON"
makedepends="python3 libpng-devel fftw-devel pkg-config"
depends="libpng"
checkdepends="python3-numpy"
short_desc="Fast Fourier Transform (FFT) library"
maintainer="Nicolas Porcel <nicolasporcel06@gmail.com>"
license="BSD-3-Clause,Unlicense"
homepage="https://github.com/mborgerding/kissfft"
distfiles="${homepage}/archive/refs/tags/${version}.tar.gz"
checksum=@a772a3a982bdbb515695d705bf7f4e2632a671af3144839479ce3813fe5223be

post_install() {
	vlicense LICENSES/BSD-3-Clause
}

kissfft-devel_package() {
	short_desc+=" (development files)"
	depends="${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/lib/*.so
		vmove usr/include
		vmove usr/lib/cmake
		vmove usr/lib/pkgconfig
	}
}
